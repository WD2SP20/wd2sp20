<!doctype html>
<html lang="en">
<head>
  <% include ../includes/headerStuff %>
</head>
<body>
  <% include ../includes/pageHeader %>
  <!-- Main Content Goes Here -->
  <div class="starter">
    <% if(flashMessage && flashMessage.length > 0) { %>
      <div class="alert <%=flashType%> alert-dismissible fade show" role="alert">
        <%=flashMessage%>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <% } %>
    <h1>Products</h1>
    <table class="table">
      <thead>
        <tr>
          <% for (let key in products[0]) { %>
            <th scope="col"><%=key%></th>
          <% } %>
          <th>&nbsp;</th>
          <th>&nbsp;</th>
        </tr>
      </thead>
      <tbody>
        <% for (let product of products) { %>
          <tr>
          <% for (let column in product) { %>
            <td><%=product[column]%></td>
          <% } %>
            <td><a href="<%=menuPath%>/edit/<%=product.productID%>">edit</a></td>
            <td><a href="<%=menuPath%>/delete/<%=product.productID%>">delete</a></td>
          </tr>
        <% } %>
      </tbody>
    </table>
    
    <h2>Add Product</h2>
    <form method="post" action="<%=menuPath%>/add">
      <div class="form-group">
        <label for="productName">Product Name</label>
        <input type="text" class="form-control" id="productName" name="productName">
      </div>
      <div class="form-group">
        <label for="categoryID">Product Category</label>
        <select class="form-control" id="categoryID" name="categoryID">
          <% for (let category of categories) { %>
            <option value="<%=category.categoryID%>"><%=category.categoryName%></option>
          <% } %>
        </select>
      </div>
      <div class="form-group">
        <label for="productCode">Product Code</label>
        <input type="text" class="form-control" id="productCode" name="productCode">
      </div>
      <div class="form-group">
        <label for="description">Product Description</label>
        <textarea class="form-control" id="description" name="description" rows="3"></textarea>
      </div>
      <div class="form-group">
        <label for="listPrice">List Price</label>
        <input type="number" step="0.01" class="form-control" id="listPrice" name="listPrice">
      </div>
      <div class="form-group">
        <label for="discountPercent">Discount Percent</label>
        <input type="number" step="0.01" class="form-control" id="discountPercent" name="discountPercent">
      </div>
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    
    
  </div>
<% include ../includes/pageFooter %>
<% include ../includes/footerStuff %>
</body>
</html>